<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ SlimBoard | ShopElectro</title>
<style>
:root{--bg:#121212;--panel:#1e1e1e;--muted:#2a2a2a;--accent:#ff6600;--text:#eaeaea;--mutedText:#bfbfbf;--radius:12px}
body.light{--bg:#f6f6f6;--panel:#ffffff;--muted:#efefef;--text:#111111;--mutedText:#6b6b6b}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial;background:var(--bg);color:var(--text);transition:.2s}
a{color:inherit;text-decoration:none}
.header{position:sticky;top:0;z-index:60;display:flex;align-items:center;gap:12px;padding:12px 22px;background:var(--panel);box-shadow:0 1px 0 rgba(0,0,0,.35)}
.header-left{display:flex;align-items:center;gap:12px}
.home-icon{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:10px;font-size:20px}
.logo{font-weight:700}
.search{flex:1;max-width:720px;display:flex;gap:8px;align-items:center}
.search input{width:100%;padding:10px;border-radius:10px;border:none;background:var(--muted);color:var(--text)}
.search button{height:40px;padding:8px 10px;border-radius:10px;border:none;background:var(--muted);color:var(--text);cursor:pointer}
.nav{display:flex;gap:10px}
.nav button{background:var(--muted);border:none;padding:8px 14px;border-radius:10px;color:var(--text);cursor:pointer}
#themeToggle{width:42px;height:42px;border-radius:10px;border:none;background:var(--muted);color:var(--text)}
.container{max-width:1100px;margin:32px auto;display:flex;gap:28px;padding:20px}
.left{width:420px;background:var(--panel);padding:20px;border-radius:12px;background-size:cover;background-position:center;height:320px}
.right{flex:1;background:var(--panel);padding:20px;border-radius:12px;display:flex;flex-direction:column}
.price{color:var(--accent);font-size:1.6rem;font-weight:800;margin:12px 0}
.btn{padding:10px 14px;border-radius:8px;border:none;font-weight:700;cursor:pointer}
.buy{background:var(--accent);color:#111}
.cart{background:var(--muted);color:var(--text)}
.specs{margin-top:18px;background:var(--muted);padding:14px;border-radius:10px}
.meta{color:var(--mutedText);margin-top:6px}
.toast{position:fixed;left:50%;top:12%;transform:translateX(-50%);background:var(--panel);padding:10px 14px;border-radius:10px;color:var(--text);box-shadow:0 10px 30px rgba(0,0,0,.5);opacity:0;pointer-events:none;transition:.25s;z-index:9999}
.toast.show{opacity:1;pointer-events:auto}
@media(max-width:980px){.container{flex-direction:column}.nav{display:none}.hamburger{display:flex}.left{width:100%}}
</style>
</head>

<body>

<header class="header">
  <div class="header-left">
    <button class="hamburger" id="hamburger">‚ò∞</button>
    <a href="index.html" class="home-icon">üè†</a>
    <div class="logo">ShopElectro</div>
  </div>
  <div class="search">
    <input id="globalSearch" placeholder="–ü–æ–∏—Å–∫ –ø–æ —Ç–æ–≤–∞—Ä–∞–º...">
    <button id="searchBtn">üîé</button>
  </div>
  <nav class="nav">
    <a href="catalog.html"><button>–ö–∞—Ç–∞–ª–æ–≥</button></a>
    <a href="profile.html"><button>–ü—Ä–æ—Ñ–∏–ª—å</button></a>
    <a href="orders.html"><button>–ö–æ—Ä–∑–∏–Ω–∞</button></a>
    <a href="reviews.html"><button>–û—Ç–∑—ã–≤—ã</button></a>
    <a href="company.html"><button>–ö–æ–º–ø–∞–Ω–∏—è</button></a>
  </nav>
  <button id="themeToggle">üåì</button>
</header>

<main class="container">
  <div id="photo" class="left"></div>

  <div class="right">
    <h1 id="title"></h1>
    <div id="rating" class="meta"></div>
    <div id="price" class="price"></div>

    <div style="display:flex;gap:12px;margin-bottom:12px;flex-wrap:wrap">
      <button id="buyBtn" class="btn buy">–ö—É–ø–∏—Ç—å</button>
      <button id="cartBtn" class="btn cart">–í –∫–æ—Ä–∑–∏–Ω—É</button>
      <a href="catalog.html"><button class="btn" style="background:#444;color:#fff">‚Üê –í –∫–∞—Ç–∞–ª–æ–≥</button></a>
    </div>

    <div class="specs" id="specs"></div>
  </div>
</main>

<div id="toast" class="toast"></div>

<script>
const PRODUCT_ID = 9;
const PRODUCTS_KEY = "catalogProducts";

const fallback = {
  id:9,
  name:"–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ SlimBoard",
  brand:"Brand A",
  rating:3,
  price:1890,
  category:"keyboard",
  img:"images/SlimBoard.jpg",
  specs:{
    "–¢–∏–ø":"–ú–µ–º–±—Ä–∞–Ω–Ω–∞—è",
    "–§–æ—Ä–º-—Ñ–∞–∫—Ç–æ—Ä":"–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è",
    "–ü–æ–¥—Å–≤–µ—Ç–∫–∞":"–ù–µ—Ç",
    "–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å":"USB"
  }
};

function loadProducts(){
  try{
    const raw = localStorage.getItem(PRODUCTS_KEY);
    if(raw){
      const arr = JSON.parse(raw);
      if(arr.length) return arr;
    }
  }catch(e){}
  return [fallback];
}

const arr = loadProducts();
const p = arr.find(x => x.id === PRODUCT_ID) || fallback;

document.getElementById("title").innerText = p.name;
document.getElementById("rating").innerText = "–†–µ–π—Ç–∏–Ω–≥: " + "‚òÖ".repeat(p.rating) + "‚òÜ".repeat(5-p.rating);
document.getElementById("price").innerText = p.price.toLocaleString("ru-RU") + " ‚Ç∏";
document.getElementById("photo").style.backgroundImage = `url('${p.img}')`;

let html = "<h3>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</h3><ul>";
for(const k in p.specs){ html += `<li><b>${k}:</b> ${p.specs[k]}</li>`; }
html += `</ul><p class="meta"><b>–ë—Ä–µ–Ω–¥:</b> ${p.brand} ‚Ä¢ <b>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</b> ${p.category}</p>`;
document.getElementById("specs").innerHTML = html;

const CART_KEY = "shopCart";
function loadCart(){ try{ return JSON.parse(localStorage.getItem(CART_KEY)||"[]"); }catch(e){ return []; } }
function saveCart(c){ localStorage.setItem(CART_KEY, JSON.stringify(c)); }

function showToast(text){
  const t = document.getElementById("toast");
  t.innerText = text;
  t.classList.add("show");
  clearTimeout(t._tmr);
  t._tmr = setTimeout(()=>t.classList.remove("show"),1500);
}

function addToCart(){
  const c = loadCart();
  const i = c.find(x=>x.id===p.id);
  if(i) i.qty++;
  else c.push({id:p.id,name:p.name,price:p.price,img:p.img,qty:1,brand:p.brand});
  saveCart(c);
  showToast("–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É");
}

document.getElementById("cartBtn").onclick = ()=>addToCart();
document.getElementById("buyBtn").onclick = ()=>{ addToCart(); location.href="orders.html"; };
</script>

</body>
</html>
